"\nconst cacheName = 'cs1forest.0.1';\n\nself.addEventListener('install', e => {\n console.log('Service Worker Installed');\n});\n\nself.addEventListener('activate', e => {\n e.waitUntil(\n   caches.keys().then(cacheNames=> {\n      return Promise.all(\n        cacheNames.map(cache=>{\n          if(cache != cacheName){\n            return caches.delete(cache);\n          }\n        })\n      )\n    })\n )\n});\n\nself.addEventListener('fetch', e => {\n  e.respondWith(\n    fetch(e.request)\n      .then(res=>{\n        const resClone = res.clone();\n        caches\n      .open(cacheName)\n      .then(cache=>{        \n       if(e.request.url.includes('socket.io/socket.io'))\n          cache.put(e.request,resClone)\n       else if(!e.request.url.includes('socket.io') && e.request.method!='HEAD'){\n         try{\n           cache.put(e.request,resClone);\n           \n         }catch(err){\n          console.log(e.request);\n         }\n       }\n          \n       });\n       return res;\n     }).catch(err=>caches.match(e.request).then(res=>res))\n  );\n});\n\n"