{"version":3,"file":"cs1-game.min.js","sources":["../../src/game/main.js"],"sourcesContent":["const instances = document.createElement('gltf-instances');\nCS1.add(instances);\nCS1.myPlayer.setAttribute('jump','speed:25');\nCS1.create('a-jukebox').then(o=>{\n  window.jukebox=o \n  o.setAttribute('position','0 3.1 -10')\n  o.setAttribute('scale','4 4 4')\n  CS1.scene.appendChild(o);\n})\nCS1.registerComponent('circle-movement', {\n  schema: {\n    center: {type: 'vec3'},\n    speed: {default: 1},\n    radius: {default: 20},\n    reverse: {default: false}\n  },\n  \n  init: function(){\n    this.dir=this.data.reverse?1:-1;\n  },\n  \n  tick: function(t,dt){\n    // x = rCos(theta)   y = rSin(theta)\n    const x = this.data.center.x+this.data.radius*Math.cos(this.dir*t*this.data.speed/1000);\n    const y = this.data.center.y;\n    const z = this.data.center.z+this.data.radius*Math.sin(this.dir*t*this.data.speed/1000);\n    this.el.object3D.position.set(x, y, z);\n  }\n  \n});\nasync function addCircleFlyer(color,center,reverse,speed){\n    const s = await CS1.create('a-sphere');\n    s.setAttribute('trail__red','color:red; offset:-1 0 0');\n    s.setAttribute('trail__white','color:white; length:120');\n    s.setAttribute('trail__blue','color:blue; offset:1 0 0');\n    s.setAttribute('color',color);\n    s.setAttribute('radius', 0.5);\n    s.setAttribute('circle-movement',`center:${center}; radius: 6;reverse:${reverse};speed:${speed}`);\n    CS1.scene.appendChild(s);\n    \n}\nconst colors=['blue','red','white'];\nfor(let i=0; i<100;i++){\n  addCircleFlyer(colors[i%colors.length],`${25*Math.cos(2*Math.PI*Math.random())} ${13+10*Math.cos(2*Math.PI*Math.random())} ${25*Math.cos(2*Math.PI*Math.random())}`,Math.random()<0.5,Math.random()+0.6)\n}\nCS1.game.addEnvironment();\nCS1.game.start();\n\n\n\n\n\n\n\n\n"],"names":["instances","document","createElement","async","addCircleFlyer","color","center","reverse","speed","s","CS1","create","setAttribute","scene","appendChild","add","myPlayer","then","o","window","jukebox","registerComponent","schema","type","default","radius","init","this","dir","data","tick","t","dt","x","Math","cos","y","z","sin","el","object3D","position","set","colors","i","length","PI","random","game","addEnvironment","start"],"mappings":"yBAAA,MAAMA,EAAYC,SAASC,cAAc,kBA8BzCC,eAAeC,EAAeC,EAAMC,EAAOC,EAAQC,GAC/C,MAAMC,QAAUC,IAAIC,OAAO,YAC3BF,EAAEG,aAAa,aAAa,4BAC5BH,EAAEG,aAAa,eAAe,2BAC9BH,EAAEG,aAAa,cAAc,4BAC7BH,EAAEG,aAAa,QAAQP,GACvBI,EAAEG,aAAa,SAAU,IACzBH,EAAEG,aAAa,kBAAkB,UAAUN,wBAA6BC,WAAiBC,KACzFE,IAAIG,MAAMC,YAAYL,GArC1BC,IAAIK,IAAIf,GACRU,IAAIM,SAASJ,aAAa,OAAO,YACjCF,IAAIC,OAAO,aAAaM,KAAKC,IAC3BC,OAAOC,QAAQF,EACfA,EAAEN,aAAa,WAAW,aAC1BM,EAAEN,aAAa,QAAQ,SACvBF,IAAIG,MAAMC,YAAYI,KAExBR,IAAIW,kBAAkB,kBAAmB,CACvCC,OAAQ,CACNhB,OAAQ,CAACiB,KAAM,QACff,MAAO,CAACgB,QAAS,GACjBC,OAAQ,CAACD,QAAS,IAClBjB,QAAS,CAACiB,SAAS,IAGrBE,KAAM,WACJC,KAAKC,IAAID,KAAKE,KAAKtB,QAAQ,GAAG,GAGhCuB,KAAM,SAASC,EAAEC,GAEf,MAAMC,EAAIN,KAAKE,KAAKvB,OAAO2B,EAAEN,KAAKE,KAAKJ,OAAOS,KAAKC,IAAIR,KAAKC,IAAIG,EAAEJ,KAAKE,KAAKrB,MAAM,KAC5E4B,EAAIT,KAAKE,KAAKvB,OAAO8B,EACrBC,EAAIV,KAAKE,KAAKvB,OAAO+B,EAAEV,KAAKE,KAAKJ,OAAOS,KAAKI,IAAIX,KAAKC,IAAIG,EAAEJ,KAAKE,KAAKrB,MAAM,KAClFmB,KAAKY,GAAGC,SAASC,SAASC,IAAIT,EAAGG,EAAGC,MAexC,MAAMM,EAAO,CAAC,OAAO,MAAM,SAC3B,IAAI,IAAIC,EAAE,EAAGA,EAAE,IAAIA,IACjBxC,EAAeuC,EAAOC,EAAED,EAAOE,QAAQ,GAAG,GAAGX,KAAKC,IAAI,EAAED,KAAKY,GAAGZ,KAAKa,aAAa,GAAG,GAAGb,KAAKC,IAAI,EAAED,KAAKY,GAAGZ,KAAKa,aAAa,GAAGb,KAAKC,IAAI,EAAED,KAAKY,GAAGZ,KAAKa,YAAYb,KAAKa,SAAS,GAAIb,KAAKa,SAAS,IAEtMrC,IAAIsC,KAAKC,iBACTvC,IAAIsC,KAAKE"}